{% extends 'profile.html' %}

{% block content %}
<div>
    <center>
        <h1>
            User: {{ user_to_show }}
            {% if not_same_user %}
            {% if already_friends %}
            <form class="d-flex" method=POST action="{% url 'delete_friend' user_to_show.id %}">
                {% csrf_token %}
                <button class="btn btn-danger" type="submit">Remove Friend</button>
            </form>
            <form class="d-flex" method=POST action="{% url 'block_friend' user_to_show.id %}">
                {% csrf_token %}
                <button class="btn btn-danger" type="submit">Block Friend</button>
            </form>
            <form class="d-flex" method=POST action="{% url 'unblock_friend' user_to_show.id %}">
                {% csrf_token %}
                <button class="btn btn-danger" type="submit">Unblock Friend</button>
            </form>
            {% else %}
            <form class="d-flex" method=POST action="{% url 'add_friend' user_to_show.id %}">
                {% csrf_token %}
                <button class="btn btn-primary" type="submit">Add Friend</button>
            </form>
            {% endif %}
            {% endif %}
        </h1>
        UserID: {{ user_to_show.id }} <br>
        {% load friendshiptags %}
        Friends:<br>
        {% for friends in allfriends %}
        <li>
            <a href="{% url 'show_user' friends.id %}">{{ friends.username }}</a><br>
        </li>
        {% endfor %}<br>
    </center>
    <h1>My Playlists:</h1>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Playlist Name</th>
            </tr>
        </thead>
        <tbody>
            {% for playlist in playlists %}
            <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td><a href="{% url 'addsongs_view' playlist.id %}"> {{ playlist.name }}</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>
    <h1>Saved Playlists:</h1>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Playlist Name</th>
            </tr>
        </thead>
        <tbody>
            {% for playlist in saved_playlists %}
            <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td><a href="{% url 'addsongs_view' playlist.saved_playlist.id %}"> {{ playlist.saved_playlist }}</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>



{% endblock %}